#-----------------------------------------------------------
# Vivado v2020.2 (64-bit)
# SW Build 3064766 on Wed Nov 18 09:12:45 MST 2020
# IP Build 3064653 on Wed Nov 18 14:17:31 MST 2020
# Start of session at: Wed May 17 14:15:30 2023
# Process ID: 2792
# Current directory: C:/Users/mfall/Desktop/sandbox/projects/network_stack/vivado
# Command line: vivado.exe -mode batch -source ../scripts/build_vivado.tcl
# Log file: C:/Users/mfall/Desktop/sandbox/projects/network_stack/vivado/vivado.log
# Journal file: C:/Users/mfall/Desktop/sandbox/projects/network_stack/vivado\vivado.jou
#-----------------------------------------------------------
source ../scripts/build_vivado.tcl
# cd ../
# set project [file tail [pwd]]
# cd vivado/
# set target xc7a35ticsg324-1L
# create_project $project -part $target -force
# set_property BOARD_PART digilentinc.com:arty-a7-35:part0:1.1 [current_project]
# add_files -fileset sources_1 ../hdl/
# add_files -fileset constrs_1 ../constraints/
# update_compile_order -fileset sources_1 -quiet
# source ../scripts/block_design.tcl
## namespace eval _tcl {
## proc get_script_folder {} {
##    set script_path [file normalize [info script]]
##    set script_folder [file dirname $script_path]
##    return $script_folder
## }
## }
## variable script_folder
## set script_folder [_tcl::get_script_folder]
## set scripts_vivado_version 2020.2
## set current_vivado_version [version -short]
## if { [string first $scripts_vivado_version $current_vivado_version] == -1 } {
##    puts ""
##    catch {common::send_gid_msg -ssname BD::TCL -id 2041 -severity "ERROR" "This script was generated using Vivado <$scripts_vivado_version> and is being run in <$current_vivado_version> of Vivado. Please run the script in Vivado <$scripts_vivado_version> then open the design in Vivado <$current_vivado_version>. Upgrade the design by running \"Tools => Report => Report IP Status...\", then run write_bd_tcl to create an updated script."}
## 
##    return 1
## }
## set list_projs [get_projects -quiet]
## if { $list_projs eq "" } {
##    create_project project_1 myproj -part xc7a35ticsg324-1L
##    set_property BOARD_PART digilentinc.com:arty-a7-35:part0:1.1 [current_project]
## }
## variable design_name
## set design_name block_design
## set errMsg ""
## set nRet 0
## set cur_design [current_bd_design -quiet]
## set list_cells [get_bd_cells -quiet]
## if { ${design_name} eq "" } {
##    # USE CASES:
##    #    1) Design_name not set
## 
##    set errMsg "Please set the variable <design_name> to a non-empty value."
##    set nRet 1
## 
## } elseif { ${cur_design} ne "" && ${list_cells} eq "" } {
##    # USE CASES:
##    #    2): Current design opened AND is empty AND names same.
##    #    3): Current design opened AND is empty AND names diff; design_name NOT in project.
##    #    4): Current design opened AND is empty AND names diff; design_name exists in project.
## 
##    if { $cur_design ne $design_name } {
##       common::send_gid_msg -ssname BD::TCL -id 2001 -severity "INFO" "Changing value of <design_name> from <$design_name> to <$cur_design> since current design is empty."
##       set design_name [get_property NAME $cur_design]
##    }
##    common::send_gid_msg -ssname BD::TCL -id 2002 -severity "INFO" "Constructing design in IPI design <$cur_design>..."
## 
## } elseif { ${cur_design} ne "" && $list_cells ne "" && $cur_design eq $design_name } {
##    # USE CASES:
##    #    5) Current design opened AND has components AND same names.
## 
##    set errMsg "Design <$design_name> already exists in your project, please set the variable <design_name> to another value."
##    set nRet 1
## } elseif { [get_files -quiet ${design_name}.bd] ne "" } {
##    # USE CASES: 
##    #    6) Current opened design, has components, but diff names, design_name exists in project.
##    #    7) No opened design, design_name exists in project.
## 
##    set errMsg "Design <$design_name> already exists in your project, please set the variable <design_name> to another value."
##    set nRet 2
## 
## } else {
##    # USE CASES:
##    #    8) No opened design, design_name not in project.
##    #    9) Current opened design, has components, but diff names, design_name not in project.
## 
##    common::send_gid_msg -ssname BD::TCL -id 2003 -severity "INFO" "Currently there is no design <$design_name> in project, so creating one..."
## 
##    create_bd_design $design_name
## 
##    common::send_gid_msg -ssname BD::TCL -id 2004 -severity "INFO" "Making design <$design_name> as current_bd_design."
##    current_bd_design $design_name
## 
## }
INFO: [BD::TCL 103-2003] Currently there is no design <block_design> in project, so creating one...
Wrote  : <C:\Users\mfall\Desktop\sandbox\projects\network_stack\vivado\network_stack.srcs\sources_1\bd\block_design\block_design.bd> 
INFO: [BD::TCL 103-2004] Making design <block_design> as current_bd_design.
## common::send_gid_msg -ssname BD::TCL -id 2005 -severity "INFO" "Currently the variable <design_name> is equal to \"$design_name\"."
INFO: [BD::TCL 103-2005] Currently the variable <design_name> is equal to "block_design".
## if { $nRet != 0 } {
##    catch {common::send_gid_msg -ssname BD::TCL -id 2006 -severity "ERROR" $errMsg}
##    return $nRet
## }
## set bCheckIPsPassed 1
## set bCheckIPs 1
## if { $bCheckIPs == 1 } {
##    set list_check_ips "\ 
## xilinx.com:ip:clk_wiz:6.0\
## xilinx.com:ip:mdm:3.2\
## xilinx.com:ip:microblaze:11.0\
## xilinx.com:ip:proc_sys_reset:5.0\
## xilinx.com:ip:lmb_bram_if_cntlr:4.0\
## xilinx.com:ip:lmb_v10:3.0\
## xilinx.com:ip:blk_mem_gen:8.4\
## "
## 
##    set list_ips_missing ""
##    common::send_gid_msg -ssname BD::TCL -id 2011 -severity "INFO" "Checking if the following IPs exist in the project's IP catalog: $list_check_ips ."
## 
##    foreach ip_vlnv $list_check_ips {
##       set ip_obj [get_ipdefs -all $ip_vlnv]
##       if { $ip_obj eq "" } {
##          lappend list_ips_missing $ip_vlnv
##       }
##    }
## 
##    if { $list_ips_missing ne "" } {
##       catch {common::send_gid_msg -ssname BD::TCL -id 2012 -severity "ERROR" "The following IPs are not found in the IP Catalog:\n  $list_ips_missing\n\nResolution: Please add the repository containing the IP(s) to the project." }
##       set bCheckIPsPassed 0
##    }
## 
## }
INFO: [BD::TCL 103-2011] Checking if the following IPs exist in the project's IP catalog:  
xilinx.com:ip:clk_wiz:6.0 xilinx.com:ip:mdm:3.2 xilinx.com:ip:microblaze:11.0 xilinx.com:ip:proc_sys_reset:5.0 xilinx.com:ip:lmb_bram_if_cntlr:4.0 xilinx.com:ip:lmb_v10:3.0 xilinx.com:ip:blk_mem_gen:8.4  .
## set bCheckModules 1
## if { $bCheckModules == 1 } {
##    set list_check_mods "\ 
## mii_axil_wrapper\
## "
## 
##    set list_mods_missing ""
##    common::send_gid_msg -ssname BD::TCL -id 2020 -severity "INFO" "Checking if the following modules exist in the project's sources: $list_check_mods ."
## 
##    foreach mod_vlnv $list_check_mods {
##       if { [can_resolve_reference $mod_vlnv] == 0 } {
##          lappend list_mods_missing $mod_vlnv
##       }
##    }
## 
##    if { $list_mods_missing ne "" } {
##       catch {common::send_gid_msg -ssname BD::TCL -id 2021 -severity "ERROR" "The following module(s) are not found in the project: $list_mods_missing" }
##       common::send_gid_msg -ssname BD::TCL -id 2022 -severity "INFO" "Please add source files for the missing module(s) above."
##       set bCheckIPsPassed 0
##    }
## }
INFO: [BD::TCL 103-2020] Checking if the following modules exist in the project's sources:  
mii_axil_wrapper  .
ERROR: [BD::TCL 103-2021] The following module(s) are not found in the project: mii_axil_wrapper
INFO: [BD::TCL 103-2022] Please add source files for the missing module(s) above.
## if { $bCheckIPsPassed != 1 } {
##   common::send_gid_msg -ssname BD::TCL -id 2023 -severity "WARNING" "Will not continue with creation of design due to the error(s) above."
##   return 3
## }
WARNING: [BD::TCL 103-2023] Will not continue with creation of design due to the error(s) above.
WARNING: [Vivado 12-818] No files matched 'C:/Users/mfall/Documents/network_stack/vivado/network_stack.srcs/sources_1/bd/block_design/block_design.bd'
# make_wrapper -files [get_files C:/Users/mfall/Documents/network_stack/vivado/network_stack.srcs/sources_1/bd/block_design/block_design.bd] -top
# add_files -norecurse C:/Users/mfall/Documents/network_stack/vivado/network_stack.gen/sources_1/bd/block_design/hdl/block_design_wrapper.v
# update_compile_order -fileset sources_1
# set_property top block_design_wrapper [current_fileset]
INFO: [Common 17-206] Exiting Vivado at Wed May 17 14:15:44 2023...
